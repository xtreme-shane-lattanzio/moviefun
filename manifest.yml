---
memory: 1G
instances: 1
services:
#- movie-fun-sso
- movie-fun-registry
env:
  TRUST_CERTS: api.run.pivotal.io,login.run.pivotal.io
  MOVIE_BUCKET: moviefunagain
  GOOGLE_CREDENTIALS: |
    {
      "type": "service_account",
      "project_id": "labs-rverma",
      "private_key_id": "d1a8e502a4e652ecb14039da535b9875490a36cd",
      "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC5I7jrBTuy8GZm\nBAyn6wvIwX2PHgUgvf3aJKS6VA3/qlIskL6SFsAPlr1LASnuT1/Iqf/e1ELPB8Bk\nTwrUe/dqN/mx6+v/dZwJbAXa0gA0eX3g8fjYm4f4dwlIS5khKDhXzkIhDFhY/ekr\n6538a+AFgl8DdEUkbPkJycP6+7pJBe071BMNuojNo4HtLeBcTYsdgHRVrwD9XJCY\nLwu6MKWAy13n+PVCFm4GshiuvN0yoAMURmsy92jhgwVcK/70p9VJf2y4YP5lL7UD\nImiyQHoa3WjrucW1nfENQtYXL2MVW2LiKD04Qts7/+bGV3JUTTDdirPnZUHXpaBI\n85had0H5AgMBAAECggEAMvqxKpXwUF998s1epsZEIm2VI1mC0/c89VptuZj3mdTO\nd9MLhrKZBDHfwc16PFLC70BQYo1UMCnUQkq5krTn9emf6ewqudcqtjV2j0CQKeLi\nVJSMjyiUkkhE2BFpAwZOLW9wKiV6FlckY6GniSAzOZEilJLpjxQqpxVVz8CNFRoC\nsZZhE6vYWOYIqLoueaQyOjV8Cq1caajtRn/OxPIPmwcCk3iRimw/uyXOBXas2aAG\nRlZaMFParXNzYoo6bIu9hGCJ9+2ZLkdq8BQ4CSXjkkWEUxKGP4qcGG63PlFQmtwH\nC79sqwd4dd5rAlayoU5tB2le1F3eE+cw8j7UvxmMuQKBgQDikX+T6tJ/61dEovXw\nnyIxeDdLTDiCNVku5lNSZKIR+izCVp4is4KbTG/Q18zlqr/qk08BuD/h+H8efR5+\nZXUTpPPtU4Bi1P2+l/730uWNbtnesYI5aSbXKvtjTgZx0Mt3NoWooQanDyW9KIs+\nkh0Dv6VTsxS+6t29N1soSWmK0wKBgQDRMIOc7Rmg6yw9/QjvfHGEDlKiCn4j5Dlq\nuaUs01/szAIy5ZprA4BNE3BBRIc93ExAP2sa9u27RCwmVua7gVm1z1t8xvceh6WP\nmxITXhf8IeJAT2YWcNNttUxN+QP18lwWHjkApy2gvFEOkTRmCJek2UI0knFU2iab\n3Pf6+gLogwKBgHJYAe3x3eiHKlTOdZbJiSU0SZurzP0R1X+Q6E410YGHI920fzx+\nIhUkX24j6xmhshe93mq8xSjTE7ycYq5hn9OZNS36LVozqhftd9U0z3swja4RIeq9\ngcenvpVghGoeeQEiOBRhqAzZ3S747kVW0mPY7aQvRfIQcHYVIOFVI3nXAoGBAIAf\nwry+y8+vuq1M6cgk5DIJw7rTymaZRkGD6xMFc99JJJ+f2XBp+I88tKiFHIBbCajg\nLu2ZCAqGurPQzglSNGwS0OofwwPD+Td3tx59pxsadcUF3HUqLZUoUdAAENj21EgH\nwsoPmvaz4MGXVgyYfqjNGKuydg+Ofc9BC/GAZ3+ZAoGBAKdFMtYzcfKME6Z+RYXB\nS4SRtZdUiXtjULNtocd1E/fXT4GxekbuYqqksIGWHoT0eoOcxo5hkeeeDzBNyt0B\nE0TS0YyuY0ceUCE8c0cL0qCoxNRlUvYDiT9oTNqs0igSvUP3sAjM2/o851QdmEzy\ngBxtbLLUCGXim1+0btwx3pML\n-----END PRIVATE KEY-----\n",
      "client_email": "466488699239-compute@developer.gserviceaccount.com",
      "client_id": "100876525349988955687",
      "auth_uri": "https://accounts.google.com/o/oauth2/auth",
      "token_uri": "https://accounts.google.com/o/oauth2/token",
      "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
      "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/466488699239-compute%40developer.gserviceaccount.com"
    }
applications:
- name: movie-fun-app
  routes:
    - route: movie-fun-app-slattanzio.cfapps.io
  path: ./applications/movie-fun-app/build/libs/movie-fun-app.war
  services:
   - movie-fun-config
   - movie-fun-circuit-breaker

    #---
    #memory: 1G
    #instances: 1
    #services:
    ##- movie-fun-sso
    #- movie-fun-registry
    #env:
    #  TRUST_CERTS: api.run.pivotal.io,login.run.pivotal.io
    #applications:
    #- name: album-service
    #  routes:
    #    - route: album-service-slattanzio.cfapps.io
    #  path: applications/album-service/build/libs/album-service.jar
    #  services:
    #  - album-database
    #  env:
    #    GRANT_TYPE: client_credentials
    #- name: movie-service
    #  routes:
    #    - route: movie-service-slattanzio.cfapps.io
    #  path: applications/movie-service/build/libs/movie-service.jar
    #  services:
    #  - movie-database
    #  env:
    #    GRANT_TYPE: client_credentials
    #- name: movie-fun-app
    #  services:
    #  - movie-fun-config
    #  - movie-fun-circuit-breaker
    #  routes:
    #    - route: movie-fun-app-slattanzio.cfapps.io
    #  path: applications/movie-fun-app/build/libs/movie-fun-app.war
